:imagesdir: ./images 
<<<

== Etude qualitative et quantitative

=== Etude qualitative : Interviews ///reste à faire///

Le choix des profils à interviewer a été basé sur des personnes qui travaillent dans le département R&D de RTE, et des personnes qui sont des experts GreenIT dans le département DSIT.

Étant dans une phase d'état de l'art, les questions posées étaient aussi ouvertes que possible afin de favoriser la collecte d'informations sans restreindre la personne interrogée. Les personnes interrogées n'ont pas eu accès aux questions au préalable afin d'obtenir les réponses les plus sincères possibles. Les premières questions portaient sur le concept de recherche scientifique et de GreenIT, mais aussi sur la définition de la durabilité des logiciels et les critères qui, selon eux, rendent les logiciels plus durables.

=== Etude quantitative : Présentation du questionnaire

Un questionnaire a été réalisé afin de recueillir les critères qui rendent les logiciels plus durables ou non.

Deux questionnaires ont été menés, l'un en français et l'autre en anglais.

Ce dernier comprend deux sections principales. La première fournit des informations sur les années d'expérience des répondants et les langages de programmation. Elle permet également de savoir si les répondants sont des développeurs d'applications pour smartphones ou non. Car ce questionnaire s'adressait d'abord aux développeurs de smartphones, et ensuite à tous les développeurs.

La deuxième me permet de savoir si les développeurs prennent en compte la consommation d'énergie, et de recueillir les critères qui me permettent de construire la matrice de durabilité. Cette partie comprenait deux questions ouvertes pour que les développeurs puissent proposer des moyens d'évaluer la durabilité des logiciels et les méthodologies de conception technique.

_Section 1_ : *Le profil général du répondant*


Les questions du questionnaire en Français :


[cols="3"]
|=== 

| *Question* | *Réponses* |*Type de question* 

| Combien d’années d’expérience en matière de programmation avez-vous ? | 1 – 3 ans/ 3 – 5 ans/ 5 – 10 ans/Plus de 10 ans |Choix multiple

| Dans quel langage de programmation êtes-vous le plus compétent ? | Java/ C++/ Python/ Objective C/ Swift/ KotLin/ C / C#/ Perl / PHP/ Ruby/ JavaScript | cases à cocher

| Développez-vous des logiciels /applications pour Smartphones ? | Oui / Non | Choix multiple

|=== 




Les questions du questionnaire en Anglais :


[cols="3"]
|=== 

| *Question* | *Réponses* | *Type de question*

| How many years of programming experience de you have ? | 1 – 3 years/ 3 – 5 years/ 5 – 10 years/ More than 10 years |Choix multiple

| In which programming langage are you proficient ? | Java/ C++/ Python/ Objective C/ Swift/ KotLin/ C / C#/ Perl / PHP/ Ruby/ JavaScript| cases à cocher

|Do you develop software/application for Smartphones ? | Yes / No | Choix multiple

|=== 




Cette section me permettra uniquement de fournir des statistiques sur les profils qui ont répondu au questionnaire. Elle ne me permet pas de collecter des critères.



_Section 2_ : *Recueillir les critères*


Les questions du questionnaire en Français :


[cols="3"]
|===

| *Question* | *Réponses* | *Type de question*

| Tenez-vous compte de la consommation d'énergie lors du développement de logiciels ? Si oui, comment comptabilisez-vous la consommation d'énergie ? a|* Non
* Non
* Non
* Non malheureusement
* Bon
* Pas vraiment
* Parfois, quand on s'apperçoit qu'il y a un consommation anormale visible à l'utilisation de l'application ex (le smartphone se décharge rapidement avec une utilisation prolongée, des messages de l'os du téléphone qui l'indique clairement …)
* Outils: Des applications d'analyse de consomation de la batterie par application et les outils officiels proposé par chaque constructeur : Android studio profiler, et Instruments pour iOs
* Pas du tout
* Pas particulièrement, mais j'essaie de limiter les traitements/variables inutiles (optimisation de code)
* Pour l’instant, uniquement au niveau de l’architecture pour ne pas être trop gourmands en ressources (nombre de microservices, usage de la RAM par exemple)
* J'essaie de faire du low code
* La performance est recherchée, donc rapidité des calculs en réduisant au maximum la complexité des développements ce qui peut alléger la mémoire ou le CPU parfois mais aucune mesure durable n'est mise en place pour vérifier que cela induit un réduction de consommation d'énergie
* ?
* pas vraiment | Texte libre

| Selon vous quels sont les critères qui rendent les applications/logiciel pour Smartphones plus durables ? a| * Mise à jour de sécurité jointes aux mises à jour fonctionnelles
* Développement Open source
* Mode nuit / jour
* Lazy Loading
*Inactif en tâche de fond
* Je ne développe pas d’appli pour smartphone
* Minimaliser les dépendances extérieures surtout open source, utiliser les derniers SDK de developpement ( dernier iOS, derniere version d'android studio) cela donne une durée de vie moyenne de 3 ans
* Moins de «gadgets» , se concentrer sur les fonctionnalités réellement attendues |cases à cocher

| Selon vous quels sont les critères qui font-vieillir les Smartphones ? a| * Usage intensif du CPU
* Usage intensif du Mémoire
* Impact fort sur l'utilisation de la batterie
* Bugs
* Travaille en arrière plan
* Binaire qui prend de l’espace
* Lancer automatiquement au démarrage par défaut
* La mauvaise lisibilité du code pour mieux l'appréhender (évolutions, corrections)
* progrès des devices, et obsolescence programmée : Une application qui a été developpée il y 3 ans, et n'a pas été modifiée depuis, ne peut pas être installée sur les iPhone 11. Presque même problème sur android
*Impossibilité d’installer sur la carte SD plutôt que sur le stockage interne du téléphone (généralement limité) |cases à cocher

| Identifiez-vous des moyens pour évaluer la durabilité des logiciels pour Smartphones (voire en dehors de cette seule plateforme) ? a| * Les statistiques des installations de maj
* Non
* L'age du logiciel, les intervalles entre les maintenances/évolutions, l'évolution de son utilisation dans le temps (est-ce que le logiciel continue d'être utilisé après 2, 5, 10 ans..)
* Capacité du logiciel a fonctionner sur des anciens modèles de smartphone
* Je n'en connais pas
* Peut être pourrait on suivre la différence de consommation de batterie et d'usage de CPU pour un usage identique de l'application entre deux release?
* Bonne gestion du mode offline / cache et synchronisation Compatibilité des OS Complexité fonctionnelles applicative
* ?
* Qu'un logiciel puisse fonctionner pendant au moins plusieurs années (plus que 2 ans) sur le même appareil sans que les mises à jour rendent le smartphone obsolète
* Je n’en connais pas | Texte libre

| Selon vous y-a-t-il des méthodologies de projet, de conception technique qui favorisent la durabilité des logiciels? a| * Agilité
* Utiliser patron de conception, respect des bonnes pratiques
* Il en existe certainement mais elles ne sont pas mises en avant au sein de mon entreprise et il n’y a aucune mention de la durabilité du logiciel dans le cahier des charges
* Le low code, prendre des technos actuelles et stables, essayer de faire du code réutilisable dans d'autres fonctionnalités/projets
* Pas de connaissance de méthode mais voir https://www.greenit.fr/2016/03/08/decryptage-l-eco-conception-des-logiciels/
* Pas vraiment une méthodologie, mais l'optimisation des traitements (algorithme, nombre de requêtes en BD, ne remonter que les données nécessaires, ...) limitent la consommation
* Pas vraiment une méthodologie, mais l'optimisation des traitements (algorithme, nombre de requêtes en BD, ne remonter que les données nécessaires, ...) limitent la consommation
* ?
* Les bonnes pratiques de développement visant à avoir un logiciel facilement maintenable favorisent aussi la durabilité je pense. Par contre si on veut mettre la durabilité comme objectif principal je pense que cela peut obliger à certains renoncements sur certaines fonctionnalités qui n’apportent pas un gain suffisant pour justifier leur fort coût en ressources par exemple |  Texte libre

|===




Les questions du questionnaire en Français :


[cols="3"]
|===

| *Question* | *Réponses* | *Type de question*  

| Do you take energy consumption into account when developing software? If so, how do you account for energy consumption? a| * No
* NO
* Of course, that's important
* No Just avoiding unuseful elaborations
* Non
* Non | Texte libre

| What do you think are the criteria that make applications/software for Smartphones more sustainable ? a| * Security update attached to functional updates
* Open source development
* Night / Day mode
* Lazy Loading
* Minimal set of features. Performance on slow devices | cases à cocher

| In your opinion, what are the criteria that make Smartphones old ? a| * Intensive CPU usage
* Intensive Use of Memory
* Strong impact on battery usage
* Bugs
* Works in the background
* Binary that takes up space
* Launch automatically at default startup
* The poor readability of the code to better understand it (evolutions, corrections)
* Advertising | cases à cocher

| Do you identify ways to assess the sustainability of software for Smartphones (or even outside this single platform)? a| * No
* https://greenspector.com/
* Less data downloaded | Texte libre

| In your opinion, are there project and engineering design methodologies that promote software sustainability? a| * Perhaps, I don't know them
* No idea
* Not really |Texte libre

|===




La section 2 me permet d'énumérer les critères par ordre décroissant. ///reste à faire///



==== Résultats du questionnaire

===== Profils généraux des répondants


Les résultats en français : 

.Annees-d-experience-en-materes-de-programmation
[caption="Figure 1: "]
image::Annees-d-experience-en-materes-de-programmation.jpg[Années d'experience en materes de programmation]



.Langage de programmaion le plus competent
[caption="Figure 1: "]
image::Langage-de-programmaion-le-plus-competent.jpg[.Langage de programmaion le plus competent]


.Développer logiciels / applications pour smartphones
[caption="Figure 1: "]
image::Logiciels-applications-pour-smartphones.jpg[Développer logiciels / applications pour smartphones]



Les résultats en anglais : 

.Annees-d-experience-en-materes-de-programmation
[caption="Figure 1: "]
image::Years-of-programming-experience.jpg[Annees-d-experience-en-materes-de-programmation]


.Langage de programmaion le plus competent
[caption="Figure 1: "]
image::Programming-language-most-proficient.jpg[Langage de programmaion le plus competent]



.Développer logiciels / applications pour smartphones
[caption="Figure 1: "]
image::Software-application-for-smartphones.jpg[Développer logiciels / applications pour smartphones]



=====  Recueillir les critères


Les résultats en français :


.critères qui rendent les logiciels de smartphones plus durables
[caption="Figure 1: "]
image::criteres-qui-rendent-les-logiciels-de-smartphones-plus-durables.jpg[critères qui rendent les logiciels de smartphones plus durables]


.Critères qui font veillir les smartphones
[caption="Figure 1: "]
image::Criteres-qui-font-veillir-les-smartphones.jpg[Critères qui font veillir les smartphones]


Les résultats en anglais : 


.Critères qui font veillir les smartphones
[caption="Figure 1: "]
image::Criteria-that-make-applications-for-smartphones-for-sustainable.jpg[Critères qui font veillir les smartphones]



.Critères qui font veillir les smartphones
[caption="Figure 1: "]
image::Criteria-that-make-smartphones-old.jpg[Critères qui font veillir les smartphones]






== Illustrations pratiques 

=== Cas d'un calcul de Fibonacci

Soit un logiciel permettant de calculer et afficher la valeur de la position une suite de Fibonacci. 

==== Etape de conception

Dans la phase de conception logicielle on s'intéresse à répondre à l'expression du besoin émis en respectant les contraintes fixées. Ici, pour les besoins du travail de mémoire, on fixe une contrainte environnementale qui consiste à consommer le moins possible d'énergie (intimement lié aux sollicitations du CPU pour cet exemple). L'expression du besoin ne formule pas d'attente en matière de temps de calcul attendu.

Entre traitement récurssif / monothread / etc. + faire mesure wattmètre / décibelmètre.footnote:[ceci est une note de bas de page] ///reste à faire///

==== Etape de développement

Soit le code Python 3 suivant. Il est d'une part récursif et d'autre part, de manière paramétrable, en mode cache ou non cache. Le mode cache permet de ne pas recalculer ce qui l'a déjà été. Mettre le mode cache (ou concevoir qu'il existe) est une optimisation énergétique en tant que telle puisqu'on calcule 1000x plus rapidement la valeur finie de la suite de Fibonacci.

fibonacci.py
----
     1	#!/bin/python3
     2	
     3	def fibonacci(value):
     4	    if value == 0:
     5	        return 0
     6	    elif value == 1:
     7	        return 1
     8	    else:
     9	        return fibonacci(value - 1) + fibonacci(value - 2)
    10	
    11	def fibonacci(withCache, cache, value):
    12	    # Get the result from cache if present
    13	    if withCache and value in cache.keys():
    14	        return cache[value]
    15	
    16	    if value == 0:
    17	        result = 0
    18	    elif value == 1:
    19	        result = 1
    20	    else:
    21	        result = fibonacci(withCache, cache, value - 1) + fibonacci(withCache, cache, value - 2)
    22	    
    23	    # Update the cache
    24	    if withCache:
    25	        cache[value] = result 
    26	
    27	    return result
    28	
    29	if __name__ == '__main__':
    30	    withCache = True
    31	    cache = dict()
    32	        
    33	    i = 0
    34	    while True:
    35	        result = fibonacci(withCache, cache, i)
    36	        print(f"F({i}) = {result}")
    37	        i = i + 1
    38	
    39	
----

==== Etape d'utilisation

Non Applicable dans ce cas plutôt à considérer soit comme théorique soit au sein d'un module BackEnd d'un applicatif (smartphone ou toute autre famille logicielle)

==== Etape de suppression

Non Applicable dans ce cas plutôt à considérer soit comme théorique soit au sein d'un module BackEnd d'un applicatif (smartphone ou toute autre famille logicielle)
